/* © 2022 Samuel Casellas All rights reserved | Follow me on LinkedIn: https://www.linkedin.com/in/samuel-casellas-a9b390208/ | Mangler command used: terser FILE -c -m --mangle-props regex=/_$/ */const script=function(t=!1){class e{constructor(t){this.data=t,this.next=null}}const o=["channe","subs","0 video","touch","profile","tap ","vlog","!ve","check","ck me","sex","s]e","hot","text","🔞","🍆","🔥","👈","👉","telegram","tsapp","@","①","𝟙","nora smith"],n=["Can we all just appreciate the","nigg"],i=['<span>\n\nQuick message from the creator: Looking to make some easy money online? Click on the following link to get started!\n    <a href="https://www.swagbucks.com/p/register?rb=127459126" target="_blank" rel="noopener noreferrer">https://www.SwagBucks.com/</a></span>','<span>\n\nQuick message from the creator: Looking to make some easy money online? Click on the following link to get started!\n    <a href="https://www.prizerebel.com/index.php?r=13177620" target="_blank" rel="noopener noreferrer">https://www.PrizeRebel.com/</a></span>','<span>\n\nMessage from the creator: Looking for more meaning in life? Check this out for answers.\n    <a href="https://www.comeuntochrist.org/" target="_blank" rel="noopener noreferrer">https://www.ComeUntoChrist.org/</a></span>'],r=getComputedStyle(document.body).getPropertyValue("--yt-live-chat-primary-text-color");let s;try{s=location.href.split("?v=")[1].split("&")[0]}catch(t){s=null}let l=location.href;new MutationObserver((()=>{if(location.href!==l){l=location.href,h=new Object,a.reset();try{location.href.split("?v=")[1].split("&")[0]!==s&&window.location.reload()}catch(t){}}})).observe(document,{childList:!0,subtree:!0});let c=!1,a=new class{constructor(t=null){t?(this.head=this.tail=new e(t),this.size=1):(this.head=this.tail=null,this.size=0)}reset(){this.head=this.tail=null,this.size=0}addNode(t){let o=new e(t);if(this.head){let t=this.tail;if(this.tail=o,t.next=o,this.size>199){let t=this.head;return this.head=this.head.next,t}return this.size++,null}return this.head=this.tail=o,this.size++,null}},h=new Object,f=new Set;s&&setTimeout((()=>{new MutationObserver((t=>{try{t.forEach((t=>{t.addedNodes.forEach((t=>{"body"===t.id?d(t.children[1].firstElementChild.lastElementChild.firstElementChild.firstElementChild.firstElementChild):("YTD-COMMENT-THREAD-RENDERER"===t.tagName&&t.classList.contains("ytd-item-section-renderer")||"content-text"===t.id)&&(p(t),c||m())}))}))}catch(t){}})).observe(document.getElementById("comments"),{subtree:!0,childList:!0})}),1e3);const m=()=>{c=!0,document.addEventListener("click",w)},w=t=>{let e=t.target.innerText;if("Newest first"===e||"Top comments"===e){let t=document.getElementById("comments").lastElementChild.children[2];for(;t.hasChildNodes();)t.removeChild(t.firstChild);a.reset(),h=new Object}},p=t=>{if("content-text"===t.id)if(t.childElementCount){let e=!1;for(let o of t.childNodes)if(o.nodeType===Node.ELEMENT_NODE&&"A"===o.tagName&&!(o.textContent.includes("@")||o.textContent.includes("#")||/([0-9]:[0-9])/.test(o.textContent))){e=!0;break}if(e)try{"none"===window.getComputedStyle(t.parentElement.parentElement.parentElement.previousElementSibling.firstElementChild).display&&b(t.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement,"Bot")}catch(e){b(t.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement,"Bot")}else k(t)}else k(t);else t.hasChildNodes()?t.childNodes.forEach(p):t.nodeType===Text.TEXT_NODE&&u(t)},u=t=>{try{"A"===t.parentElement.tagName&&"author-text"===t.parentElement.id&&d(t.nextElementSibling)}catch(t){}},g={"а":"a","ɑ":"a","с":"c","ɛ":"e","е":"e","ᴇ":"e","к":"k","м":"m","ɴ":"n","т":"t","р":"p","ɡ":"g","ɢ":"g"},d=t=>{let e=t.textContent.toLowerCase();if(e.includes(String.fromCharCode(55349)))b(t.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement,"Bot");else{for(let t in g){let o=new RegExp(t,"gi");e=e.replace(o,g[t])}for(let n of o)if(e.includes(n)){b(t.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement,"Bot");break}}},k=t=>{let e=new String,o=0;try{for(let n of t.parentElement.parentElement.children){if(o>=3)break;"IMG"===n.tagName?e+=n.alt:e+=n.innerText,o++}let i=t.parentElement.parentElement.parentElement.parentElement.parentElement;for(let t in g){let o=new RegExp(t,"gi");e=e.replace(o,g[t])}for(let t of n)if(e.includes(t))return void b(i,"Bot");if(h[e])f.has(e)||(f.add(e),b(h[e],"Repetitive")),b(i,"Repetitive");else if(f.has(e))b(i,"Repetitive");else{h[e]=i;let t=a.addNode(e);t&&delete h[t]}}catch(t){}},b=(e,o)=>{let n;n="contents"===e.parentElement.id?e:e.parentElement;try{for(;null!==n.firstElementChild;)n.removeChild(n.firstElementChild)}catch(t){}finally{let e=document.createElement("span"),s=`[${o} comment removed]`;t&&(Math.random()>.995?s+=i[Math.floor(2*Math.random())]:Math.random()>.9999&&(s+=i[2])),e.innerHTML=s,e.style=`color: ${r}; font-size: 14px; font-style: italic; font-weight: normal;`,n.appendChild(e)}}};chrome.storage.sync.get(["authenticated"],(function(t){t.authenticated&&chrome.storage.sync.get(["paid"],(function(t){t.paid?script(!0):script()}))}));